{"version":3,"sources":["navbar.js"],"names":["positionMenus","offsetTop","el","offsetParent","$","each","i","style","top","parentElement","scrollTop","dataTarget","id","prePositionTooltip","event","document","getElementById","target","getAttribute","visibility","positionTooltip","tooltip","getPosition","parent","placement","offsetHeight","left","offsetWidth","scrollLeft","arrow","transform","offsetLeft","position","pointerEvents","getElementsByClassName","on","preventClickEventsWhenCollapsed","navbar","currentTarget","closest","hasClass","stopImmediatePropagation","scroll","click"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2011-2018, Hortonworks Inc.  All rights reserved.\n * Except as expressly permitted in a written agreement between you\n * or your company and Hortonworks, Inc, any use, reproduction,\n * modification, redistribution, sharing, lending or other exploitation\n * of all or any part of the contents of this file is strictly prohibited.\n */\n\nconst positionMenus = () => {\n  // Helper method for getting absolute top position\n  const offsetTop = el => {\n    if (el) {\n      return el.offsetTop + offsetTop(el.offsetParent);\n    }\n\n    return 0;\n  }\n\n  //$('.navbar .nav-item.dropdown.show').dropdown('toggle'); //close all dropdowns\n\n  // Position dropdown menus\n  $('.navbar .nav-item.dropdown .dropdown-menu').each((i, el) => {\n    el.style.top = `${offsetTop(el.parentElement) - el.parentElement.offsetParent.scrollTop + 36}px`;\n  });\n\n  // Position sub-item flyout menus\n  $('.navbar-nav.collapse').each((i, el) => {\n    const dataTarget = el.id;\n    const parentElement = $(`.navbar-nav[data-toggle=\"collapse\"][data-target=\"#${dataTarget}\"]`)[0];\n    if (parentElement) {\n      el.style.top = `${offsetTop(parentElement) - parentElement.offsetParent.scrollTop}px`;\n    }\n  });\n\n  const prePositionTooltip = event => {\n    document.getElementById(event.target.getAttribute('aria-describedby')).style.visibility = \"hidden\";\n  };\n\n  const positionTooltip = event => {\n    const tooltip = document.getElementById(event.target.getAttribute('aria-describedby'));\n\n    const getPosition = target => {\n      const parent = target.offsetParent;\n      const placement = target.getAttribute(\"data-placement\");\n\n      if (parent) {\n        switch (placement) {\n          case \"top\":\n            return {\n              top: parent.offsetTop + target.offsetTop - tooltip.offsetHeight - parent.scrollTop,\n              left: (target.offsetWidth - tooltip.offsetWidth) / 2 - parent.scrollLeft,\n              arrow: {\n                left: \"50%\",\n                transform: \"translateX(-50%)\"\n              }\n            };\n          case \"right\":\n            return {\n              top: parent.offsetTop + target.offsetTop + ((target.offsetHeight - tooltip.offsetHeight) / 2) - parent.scrollTop,\n              left: parent.offsetLeft + target.offsetWidth - parent.scrollLeft,\n              arrow: {\n                top: \"50%\",\n                left: \"1px\",\n                transform: \"translateY(-50%) rotate(180deg)\"\n              }\n            };\n          case \"bottom\":\n            return {\n              top: parent.offsetTop + target.offsetTop + target.offsetHeight - parent.scrollTop,\n              left: (target.offsetWidth - tooltip.offsetWidth) / 2 - parent.scrollLeft,\n              arrow: {\n                left: \"50%\",\n                transform: \"translateX(-50%)\"\n              }\n            };\n          case \"left\":\n            return {\n              top: parent.offsetTop + target.offsetTop + ((target.offsetHeight - tooltip.offsetHeight) / 2) - parent.scrollTop,\n              left: -tooltip.offsetWidth - parent.scrollLeft,\n              arrow: {\n                top: \"50%\",\n                left: \"calc(100% - .4rem)\", // .4rem = $tooltip-arrow-height, which is used for the tooltip's padding\n                transform: \"translateY(-50%) rotate(180deg)\"\n              }\n            };\n        }\n      }\n    };\n\n    const position = getPosition(event.target);\n\n    if (position) {\n      tooltip.style.position = \"fixed\";\n      tooltip.style.top = `${position.top}px`;\n      tooltip.style.left = `${position.left}px`;\n      tooltip.style.transform = \"\";\n      tooltip.style.pointerEvents = \"none\";\n\n      const arrow = tooltip.getElementsByClassName('arrow')[0];\n      arrow.style.top = position.arrow.top;\n      arrow.style.left = position.arrow.left;\n      arrow.style.transform = position.arrow.transform;\n    }\n\n    tooltip.style.visibility = \"visible\";\n  };\n\n  $('.navbar.collapse [data-toggle=\"tooltip\"]').on('inserted.bs.tooltip', prePositionTooltip);\n  $('.navbar.collapse [data-toggle=\"tooltip\"]').on('shown.bs.tooltip', positionTooltip);\n}\n\nconst preventClickEventsWhenCollapsed = event => {\n  const navbar = $(event.currentTarget).closest('.navbar.collapse')[0];\n  if (!$(navbar).hasClass('show')) {\n    event.stopImmediatePropagation();\n  }\n}\n\n$(function () {\n  positionMenus();\n  $('.navbar-collapse').scroll(positionMenus);\n\n  $('.navbar.collapse .navbar-nav[data-toggle=\"collapse\"]').click(preventClickEventsWhenCollapsed);\n  $('.navbar.collapse .nav-item.dropdown .dropdown-toggle').click(preventClickEventsWhenCollapsed);\n});\n"],"file":"navbar.js"}